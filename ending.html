<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>히든 엔딩 : 사이렌</title>
<style>
body{
background:#000;
color:#eee;
font-family:"Noto Serif KR",serif;
line-height:1.8;
}
#wrap{
max-width:800px;
margin:60px auto;
padding:20px;
}
.fade{
opacity:0;
animation:fadein 2s forwards;
}
@keyframes fadein{to{opacity:1;}}
button{
width:100%;
padding:14px;
margin-top:20px;
background:#111;
color:#eee;
border:1px solid #444;
cursor:pointer;
}
button:hover{background:#222;}
.memo{color:#aaa;font-style:italic;}
hr{border:0;border-top:1px solid #333;margin:40px 0;}
</style>
</head>

<body>
<div id="wrap"></div>

<script>
/* ===== 사운드 ===== */
const hiddenBgm = new Audio("./sound/Symmetry.mp3");
const phoneConnect = new Audio("./sound/connect.mp3");
const sirenSfx = new Audio("./sound/siren.mp3");

hiddenBgm.loop = true;
hiddenBgm.volume = 0.6;
phoneConnect.volume = 0.9;
sirenSfx.volume = 0.7;

const wrap = document.getElementById("wrap");

function render(html){
wrap.innerHTML = html;
}

function start(){
hiddenBgm.play().catch(()=>{});
phoneConnect.currentTime = 0;
phoneConnect.play();

render(`
<div class="fade">
<h2>공중전화</h2>
<p>…뚜…</p>
</div>
`);
setTimeout(call1,2500);
}

function call1(){
render(`
<div class="fade">
<p><b>경찰:</b> 112입니다.</p>
<p><b>경찰:</b> 판태현 씨, 맞습니까?</p>
</div>
`);
setTimeout(call2,3000);
}

function call2(){
render(`
<div class="fade">
<p><b>나:</b> …네?</p>
<p><b>나:</b> 제 이름을 어떻게…</p>
</div>
`);
setTimeout(call3,3000);
}

function call3(){
render(`
<div class="fade">
<p><b>경찰:</b> 위치는 확인했습니다.</p>
<p><b>경찰:</b> 지금 그 자리에 계세요.</p>
<p class="memo">※ 수화기 너머에서 타자 치는 소리가 들린다.</p>
</div>
`);
setTimeout(call4,3500);
}

function call4(){
render(`
<div class="fade">
<p><b>나:</b> 누가… 누가 쫓아와요.</p>
<p><b>나:</b> 여기… 이상해요.</p>
</div>
`);
setTimeout(call5,3000);
}

function call5(){
render(`
<div class="fade">
<p><b>경찰:</b> 알고 있습니다.</p>
<p><b>경찰:</b> 숨을 크게 쉬지 마세요.</p>
<p><b>경찰:</b> 곧 도착합니다.</p>
</div>
`);
setTimeout(siren,3500);
}

function siren(){
sirenSfx.play().catch(()=>{});
render(`
<div class="fade">
<p>수화기 너머로 사이렌 소리가 겹쳐 들린다.</p>
</div>
`);
setTimeout(scene1,3500);
}

function scene1(){
render(`
<div class="fade">
<p>
골목 끝에서 붉고 푸른 불빛이 번쩍인다.<br>
그제서야 다리에 힘이 풀린다.
</p>
</div>
`);
setTimeout(scene2,3500);
}

function scene2(){
render(`
<div class="fade">
<p>
경찰은 아무 질문도 하지 않는다.<br>
이름도, 설명도 요구하지 않는다.
</p>
<p class="memo">
“이미 알고 있었다.”
</p>
</div>
`);
setTimeout(scene3,4000);
}

function scene3(){
render(`
<div class="fade">
<hr>
<p>
구급차 안에서 잠시 눈을 붙인다.
</p>
<p>
창문에 비친 내 얼굴 옆으로<br>
누군가의 그림자가 겹쳐 보인다.
</p>
</div>
`);
setTimeout(scene4,4500);
}

function scene4(){
render(`
<div class="fade">
<p class="memo">
112는 항상 연결된다.<br>
하지만 누가 받는지는 알 수 없다.
</p>
<hr>
<button onclick="ending()">끝까지 본다</button>
</div>
`);
}

function ending(){
hiddenBgm.volume = 0.4;
render(`
<div class="fade">
<h2>END</h2>
<p>
다음 날 뉴스에는<br>
<i>“실종 사건, 피해자 구조”</i>라는 짧은 기사만 실렸다.
</p>

<p class="memo">
납치범에 대한 언급은 없었다.<br>
공중전화에 대한 기록도 없었다.
</p>

<p class="memo">
그리고 112 통화 기록은<br>
존재하지 않았다.
</p>

<hr>
<p class="memo">히든 엔딩 완료</p>
</div>
`);
}

start();
</script>
</body>
</html>
