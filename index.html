<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê³µì¤‘ì „í™” ê´´ë‹´</title>
<style>
body {
    background:black;
    color:#e0e0e0;
    font-family:'Malgun Gothic', sans-serif;
    text-align:center;
}
#status {
    margin-top:20px;
    opacity:0.8;
}
button {
    margin-top:20px;
    padding:10px 20px;
}
</style>
</head>
<body>

<h2>ğŸ“ ê³µì¤‘ì „í™”</h2>
<p>ì „í™”ê°€ ì—°ê²°ë˜ëŠ” ë™ì•ˆ, ì£¼ë³€ì„ ì˜ ë“¤ì–´ë¼.</p>

<div id="status">â€¦</div>
<button onclick="holdBreath()">ìˆ¨ ì°¸ê¸°</button>

<audio id="footstep" src="footstep.mp3"></audio>

<script>
const footstep = document.getElementById("footstep");
const status = document.getElementById("status");

let footstepActive = false;

// ìˆ¨ ì°¸ê¸° (í”Œë ˆì´ì–´ ì„ íƒ)
function holdBreath(){
    status.textContent = "ìˆ¨ì„ ì°¸ì•˜ë‹¤...";
    setTimeout(() => status.textContent = "â€¦", 2000);
}

// ë°œì†Œë¦¬ ì´ë²¤íŠ¸
function triggerFootstep(){
    if(footstepActive) return;

    footstepActive = true;

    // ê°€ë” í¬ê²Œ ë“¤ë¦¬ê²Œ
    const loudChance = Math.random() < 0.15;
    footstep.volume = loudChance ? 1.0 : 0.5;

    footstep.currentTime = 0;
    footstep.play();

    status.textContent = loudChance 
        ? "ë°œì†Œë¦¬ê°€ ë°”ë¡œ ë’¤ì—ì„œ ë“¤ë¦°ë‹¤â€¦" 
        : "ì–´ë””ì„ ê°€ ë°œì†Œë¦¬ê°€ ë“¤ë¦°ë‹¤â€¦";

    // 3ì´ˆ í›„ ì™„ì „ ì •ì§€
    setTimeout(() => {
        footstep.pause();
        footstep.currentTime = 0;
        footstepActive = false;
        status.textContent = "â€¦";
    }, 3000);

    // ë‹¤ìŒ ë°œì†Œë¦¬ ì˜ˆì•½ (15~25ì´ˆ ëœë¤)
    const nextDelay = Math.random() * 10000 + 15000;
    setTimeout(triggerFootstep, nextDelay);
}

// ìµœì´ˆ ë°œì†Œë¦¬ ì‹œì‘ íƒ€ì´ë° (ê²Œì„ ì‹œì‘ í›„ 10ì´ˆ)
setTimeout(triggerFootstep, 10000);
</script>

</body>
</html>
